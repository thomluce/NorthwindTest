@model IEnumerable<NorthwindTest.DataPoint>

@using Newtonsoft.Json;

<script type="text/javascript">
    var result = @Html.Raw(ViewBag.DataPoints);
    var dataPoints =[];
    for(var i = 0; i < result.length; i++){
        dataPoints.push({label:result[i].label, y:result[i].y});
    }

    (function () {
        var chart = new CanvasJS.Chart("chartContainer", {
            theme: "light2",
            zoomEnabled: true,
            animationEnabled: true,
            title: {
                text: "@ViewBag.chartTitle"
            },
            data: [
            {
                type: "@ViewBag.chartType",
                dataPoints: dataPoints,
            }
            ]
        });
        chart.render();
    })();
</script>

